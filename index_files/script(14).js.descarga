!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){function n(t){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";window.wsb=window.wsb||{},window.wsb.CookieBanner=window.wsb.CookieBanner||n(4)},function(e,t,n){"use strict";var o=n(5),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(6)),a=r(n(7)),u=r(n(8)),c=r(n(2)),s=r(n(9)),l=r(n(11)),d=r(n(12)),f=o(n(13)),p=r(n(14)),b=n(15),h=n(16),E=r(n(17));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}var m=b.constants.cookies.TERMS_ACCEPTED,w=b.constants.renderDevices.TABLET_RENDER_DEVICE,k={bannerLayout:{padding:"medium",position:"fixed",bottom:"0",right:"0",zIndex:1e4,width:"100%",height:"auto",textAlign:"left",backgroundColor:"section",borderRadius:"0",margin:"0",overflowY:"auto","@sm":{margin:"medium",width:"400px",maxHeight:"500px",borderRadius:"7px"},transition:"all 1s cubic-bezier(0.49, -0.29, 0.4, 1.26)",boxShadow:"0 2px 6px 0px rgba(0,0,0,0.3)"},cookieTitle:{marginBottom:"0",paddingBottom:"xsmall",fontSize:"large"},cookieButton:{display:"flex",flexDirection:"column",justifyContent:"center",cursor:"pointer",marginTop:"medium",marginBottom:"xxsmall",wordBreak:"break-word",flexBasis:"50%",flexGrow:1,":nth-child(2)":{marginLeft:"medium"}},cookieMessage:{a:{textDecoration:"underline"},maxHeight:"300px",overflowY:"auto","@sm":{maxHeight:"140px"}},buttonWrapper:{display:"flex",justifyContent:"space-between"}},v=function(e){(0,s.default)(n,e);var t=g(n);function n(){var e;return(0,a.default)(this,n),(e=t.apply(this,arguments)).shouldShow=function(){if(e.isEditMode()){var t=e.props,n=t.router,o=t.widgetId;return n.widget===o}},e.state={dismissed:!1,bottom:"-500px",mutatorOpened:!1},e.handleAcceptClicked=e.handleAcceptClicked.bind((0,c.default)(e)),e.handleDeclineClicked=e.handleDeclineClicked.bind((0,c.default)(e)),e}return(0,u.default)(n,[{key:"componentDidMount",value:function(){var e=this;!this.isPublishMode()||!this.isAccepted()&&this.isBannerEnabled()||this.grantTrackingConsent(),this.shouldShow()&&this.setState({mutatorOpened:!0}),setTimeout(function(){e.setState({bottom:"0"})},200)}},{key:"grantTrackingConsent",value:function(){"undefined"!=typeof window&&(window._allowCT=!0,"function"==typeof window.fbq&&window.fbq("consent","grant"),void 0!==window.ga&&void 0!==window._gaID&&(window["ga-disable-".concat(window._gaID)]=!1,window.ga("create",window._gaID,"auto"),window.ga("send","pageview")))}},{key:"isPublishMode",value:function(){return this.props.renderMode===b.constants.renderModes.PUBLISH}},{key:"isEditMode",value:function(){return this.props.renderMode===b.constants.renderModes.EDIT}},{key:"isAccepted",value:function(){return(0,h.hasCookie)(m)}},{key:"isBannerEnabled",value:function(){return this.props.cookieBannerEnabled||this.props.enableCookieWarning}},{key:"isBannerDismissed",value:function(){return this.state.dismissed||(0,h.hasCookie)("cookie_warning_dismissed")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.router,o=t.widgetId,r=t.viewDevice;if(n&&e.router&&n.widget!==e.router.widget){var i=e.router&&""===e.router.widget&&n.widget===o;this.isEditMode()&&r===w&&i?this.setState({mutatorOpened:!0}):this.setState({mutatorOpened:!1})}}},{key:"showBanner",value:function(){return this.isPublishMode()?this.isBannerEnabled()&&!this.isBannerDismissed():this.isBannerEnabled()&&this.state.mutatorOpened}},{key:"handleAcceptClicked",value:function(e){e.preventDefault(),this.isPublishMode()&&(this.grantTrackingConsent(),(0,h.setCookie)("cookie_warning_dismissed"),(0,h.setCookie)(m),this.setState({dismissed:!0}))}},{key:"handleDeclineClicked",value:function(e){e.preventDefault(),this.isPublishMode()&&((0,h.setCookie)("cookie_warning_dismissed"),(0,h.hasCookie)(m)&&(0,h.clearCookie)(m),this.setState({dismissed:!0}))}},{key:"render",value:function(){if(!this.showBanner())return null;var e=this.state.bottom,t=this.props,n=t.cookieBannerTitle,o=t.cookieBannerMessage,r=t.cookieBannerButtonLabel,i=t.staticContent,a=t.cookieBannerDeclineLabel,u=t.cookieBannerDeclineEnabled,c=n||i.cookieTitle,s=o||i.usingCookieMessage,l=r||i.acceptAndClose,d=a||i.decline,p=O(O({},k.bannerLayout),{},{bottom:e}),h=b.UX2.Element,y=h.Text,g=h.Button,m=h.Heading;return f.default.createElement(b.UX2.Group,{"data-aid":E.default.FOOTER_COOKIE_BANNER_RENDERED},f.default.createElement(b.UX2.Component.Background,{category:"primary",style:p},f.default.createElement(m,{style:k.cookieTitle,children:c,"data-aid":E.default.FOOTER_COOKIE_TITLE_RENDERED}),f.default.createElement(y,{richtext:!0,"data-aid":E.default.FOOTER_COOKIE_MESSAGE_RENDERED,style:k.cookieMessage,children:s}),f.default.createElement(b.UX2.Element.Block,{style:k.buttonWrapper},u&&f.default.createElement(g.Primary,{tag:"a",href:"",children:d,style:k.cookieButton,onMouseUp:this.handleDeclineClicked,onTouchEnd:this.handleDeclineClicked,"data-aid":E.default.FOOTER_COOKIE_DECLINE_RENDERED,size:"small"}),f.default.createElement(g.Primary,{tag:"a",href:"",children:l,style:k.cookieButton,onMouseUp:this.handleAcceptClicked,onTouchEnd:this.handleAcceptClicked,"data-aid":E.default.FOOTER_COOKIE_CLOSE_RENDERED,size:"small"}))))}}]),n}(f.Component);v.propTypes={router:p.default.object,widgetId:p.default.string,renderMode:p.default.string.isRequired,viewDevice:p.default.string.isRequired,cookieBannerTitle:p.default.string,cookieBannerButtonLabel:p.default.string,cookieBannerDeclineLabel:p.default.string,cookieBannerMessage:p.default.string,staticContent:p.default.object.isRequired,cookieBannerEnabled:p.default.bool,enableCookieWarning:p.default.bool,cookieBannerDeclineEnabled:p.default.bool};var _=v;t.default=_,e.exports=t.default},function(e,t,n){var o=n(0);function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){var o=n(10);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t,n){var o=n(0),r=n(2);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?r(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=React},function(e,t){e.exports=PropTypes},function(e,t){e.exports=Core},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=new Date;n.setTime(n.getTime()+o*t);var r="expires=".concat(n.toUTCString());document.cookie="".concat(e,"=true;").concat(r,";path=/")},t.hasCookie=function(e){if("undefined"==typeof document)return!1;return document.cookie.indexOf(e)>=0},t.clearCookie=function(e){document.cookie="".concat(e,"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/")};var o=864e5},function(e,t,n){"use strict";var o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o(n(18)).default)({FOOTER_COOKIE_TITLE_RENDERED:null,FOOTER_COOKIE_MESSAGE_RENDERED:null,FOOTER_COOKIE_DECLINE_RENDERED:null,FOOTER_COOKIE_CLOSE_RENDERED:null,FOOTER_COOKIE_BANNER_RENDERED:null});t.default=r,e.exports=t.default},function(e,t){e.exports=keyMirror}]);